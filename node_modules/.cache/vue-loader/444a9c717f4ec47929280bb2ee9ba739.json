{"remainingRequest":"C:\\xampp\\htdocs\\ukk_front\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\xampp\\htdocs\\ukk_front\\src\\views\\LihatPengaduan.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\xampp\\htdocs\\ukk_front\\src\\views\\LihatPengaduan.vue","mtime":1616484163020},{"path":"C:\\xampp\\htdocs\\ukk_front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\xampp\\htdocs\\ukk_front\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\xampp\\htdocs\\ukk_front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\xampp\\htdocs\\ukk_front\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCiAgZXhwb3J0IGRlZmF1bHQgewogICAgICBkYXRhKCkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICBzZWFyY2g6ICIiLAogICAgICAgICAgaWRfcGVuZ2FkdWFuOiAiIiwKICAgICAgICAgIHRnbF9wZW5nYWR1YW46ICIiLAogICAgICAgICAgaXNpX2xhcG9yYW46ICIiLAogICAgICAgICAgZm90bzogIiIsCiAgICAgICAgICBzdGF0dXM6ICIiLAogICAgICAgICAgdGFuZ2dhcGFuOiAiIiwKICAgICAgICAgIG1lc3NhZ2U6ICIiLAogICAgICAgICAgY3VycmVudFBhZ2U6IDEsCiAgICAgICAgICByb3dzOiAwLAogICAgICAgICAgcGVyUGFnZTogMywKICAgICAgICAgIGtleTogIiIsCiAgICAgICAgICBwZW5nYWR1YW46IFtdLAogICAgICAgICAgdGFuZ2dhcGFuOiBbXSwKICAgICAgICAgIGZpZWxkczogWyJpZF9wZW5nYWR1YW4iLCAidGdsX3BlbmdhZHVhbiIsICJpc2lfbGFwb3JhbiIsICJmb3RvIiwgInN0YXR1cyIsICJ0YW5nZ2FwYW4iXSwKICAgICAgICB9CiAgICAgIH0sCiAgICAgIAogICAgbWV0aG9kczogewogICAgICBnZXREYXRhIDogZnVuY3Rpb24oKXsKICAgICAgbGV0IGNvbmYgPSB7IGhlYWRlcnM6IHsgIkF1dGhvcml6YXRpb24iIDogJ0JlYXJlciAnICsgdGhpcy5rZXkgfSB9OwogICAgICBsZXQgb2Zmc2V0ID0gKHRoaXMuY3VycmVudFBhZ2UgLSAxKSAqIHRoaXMucGVyUGFnZTsKICAgICAgdGhpcy4kYnZUb2FzdC5zaG93KCJsb2FkaW5nVG9hc3QiKTsKICAgICAgdGhpcy5heGlvcy5nZXQoIm1hc3lhcmFrYXQvcGVuZ2FkdWFuLyIgKyB0aGlzLnBlclBhZ2UgKyAiLyIgKyBvZmZzZXQsIGNvbmYpCiAgICAgIC50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICBpZihyZXNwb25zZS5kYXRhLnN1Y2Nlc3MpewogICAgICAgICAgdGhpcy4kYnZUb2FzdC5oaWRlKCJsb2FkaW5nVG9hc3QiKTsKICAgICAgICAgIHRoaXMucGVuZ2FkdWFuID0gcmVzcG9uc2UuZGF0YS5kYXRhLnBlbmdhZHVhbjsKICAgICAgICAgIHRoaXMudGFuZ2dhcGFuID0gcmVzcG9uc2UuZGF0YS5kYXRhLnBlbmdhZHVhbi50YW5nZ2FwYW47CiAgICAgICAgICB0aGlzLnJvd3MgPSByZXNwb25zZS5kYXRhLmRhdGEuY291bnQ7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMuJGJ2VG9hc3QuaGlkZSgibG9hZGluZ1RvYXN0Iik7CiAgICAgICAgICB0aGlzLm1lc3NhZ2UgPSAiR2FnYWwgbWVuYW1waWxrYW4gZGF0YSBwZW5nYWR1YW4gbWFzeWFyYWthdCBhdGF1IGFuZGEgbG9naW4gc2ViYWdhaSBhZG1pbi9wZXR1Z2FzIgogICAgICAgICAgdGhpcy4kYnZUb2FzdC5zaG93KCJtZXNzYWdlIik7CiAgICAgICAgICAvLyB0aGlzLiRyb3V0ZXIucHVzaCh7bmFtZTogImxvZ2luIn0pCiAgICAgICAgfQogICAgICAgIAogICAgICB9KQogICAgICAuY2F0Y2goZXJyb3IgPT4gewogICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgfSk7CiAgICB9LAogICAgICAgCiAgICAgIHBhZ2luYXRpb24gOiBmdW5jdGlvbigpewogICAgICAgIGlmKHRoaXMuc2VhcmNoID09ICIiKXsKICAgICAgICAgIHRoaXMuZ2V0RGF0YSgpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLnNlYXJjaGluZygpOwogICAgICAgIH0gCiAgICAgIH0sCiAgICB9LAogICAgCiAgICBtb3VudGVkKCkgewogICAgICB0aGlzLmtleSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJBdXRob3JpemF0aW9uIik7CiAgICAgIHRoaXMuZ2V0RGF0YSgpOwogICAgfQp9Cg=="},{"version":3,"sources":["LihatPengaduan.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"LihatPengaduan.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"container-scroller\">\n    <div class=\"container-fluid page-body-wrapper full-page-wrapper\">\n      <div class=\"main-panel\">\n        <section class=\"contact section-padding\">\n          <div class=\"container\">\n            <div class=\"row\">\n              <div class=\"col-lg-12\">\n                <div class=\"card\">\n                  <div class=\"card-body\">\n                    <p class=\"card-title float-left\"><b>Data Pengaduan</b></p>\n                    <div class=\"table-responsive\" >\n                    <b-table striped hover :items=\"pengaduan\" :fields=\"fields\">\n                      <template v-slot:cell(foto)=\"data\">\n                        <img style=\"width:200px; height: 150px; border-radius:5%\" :src=\"'http://localhost:8000/uploads/' + data.item.foto\" />\n                      </template>\n                      <template v-slot:cell(tanggapan)=\"data\">\n                        {{ (data.item.tanggapan !== null) ? data.item.tanggapan.tanggapan :null }}\n                      </template>\n                    </b-table>\n                    </div>\n                    <b-pagination\n                      v-model=\"currentPage\"\n                      :per-page=\"perPage\"\n                      :total-rows=\"rows\"\n                      align=\"center\"\n                      v-on:input=\"pagination\">\n                    </b-pagination>\n\n                    <!-- toast untuk tampilan message box -->\n                    <b-toast id=\"message\" title=\"Message\">\n                      <strong class=\"text-success\">{{ message }}</strong>\n                    </b-toast>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </section>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\n  export default {\n      data() {\n        return {\n          search: \"\",\n          id_pengaduan: \"\",\n          tgl_pengaduan: \"\",\n          isi_laporan: \"\",\n          foto: \"\",\n          status: \"\",\n          tanggapan: \"\",\n          message: \"\",\n          currentPage: 1,\n          rows: 0,\n          perPage: 3,\n          key: \"\",\n          pengaduan: [],\n          tanggapan: [],\n          fields: [\"id_pengaduan\", \"tgl_pengaduan\", \"isi_laporan\", \"foto\", \"status\", \"tanggapan\"],\n        }\n      },\n      \n    methods: {\n      getData : function(){\n      let conf = { headers: { \"Authorization\" : 'Bearer ' + this.key } };\n      let offset = (this.currentPage - 1) * this.perPage;\n      this.$bvToast.show(\"loadingToast\");\n      this.axios.get(\"masyarakat/pengaduan/\" + this.perPage + \"/\" + offset, conf)\n      .then(response => {\n        if(response.data.success){\n          this.$bvToast.hide(\"loadingToast\");\n          this.pengaduan = response.data.data.pengaduan;\n          this.tanggapan = response.data.data.pengaduan.tanggapan;\n          this.rows = response.data.data.count;\n        } else {\n          this.$bvToast.hide(\"loadingToast\");\n          this.message = \"Gagal menampilkan data pengaduan masyarakat atau anda login sebagai admin/petugas\"\n          this.$bvToast.show(\"message\");\n          // this.$router.push({name: \"login\"})\n        }\n        \n      })\n      .catch(error => {\n        console.log(error);\n      });\n    },\n       \n      pagination : function(){\n        if(this.search == \"\"){\n          this.getData();\n        } else {\n          this.searching();\n        } \n      },\n    },\n    \n    mounted() {\n      this.key = localStorage.getItem(\"Authorization\");\n      this.getData();\n    }\n}\n</script>"]}]}