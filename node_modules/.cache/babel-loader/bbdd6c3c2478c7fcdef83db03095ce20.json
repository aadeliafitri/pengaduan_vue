{"remainingRequest":"C:\\xampp\\htdocs\\ukk_front\\node_modules\\babel-loader\\lib\\index.js!C:\\xampp\\htdocs\\ukk_front\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\xampp\\htdocs\\ukk_front\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\xampp\\htdocs\\ukk_front\\src\\views\\reportPengaduan.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\xampp\\htdocs\\ukk_front\\src\\views\\reportPengaduan.vue","mtime":1616541799785},{"path":"C:\\xampp\\htdocs\\ukk_front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\xampp\\htdocs\\ukk_front\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\xampp\\htdocs\\ukk_front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\xampp\\htdocs\\ukk_front\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:cmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnNlYXJjaCIpOwoKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KbW9kdWxlLmV4cG9ydHMgPSB7CiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHNlYXJjaDogIiIsCiAgICAgIHRhaHVuOiAiIiwKICAgICAgaWRfcGVuZ2FkdWFuOiAiIiwKICAgICAgdGdsX3BlbmdhZHVhbjogIiIsCiAgICAgIGlzaV9sYXBvcmFuOiAiIiwKICAgICAgc3RhdHVzOiAiIiwKICAgICAgbmFtYV9rYXRlZ29yaTogIiIsCiAgICAgIG5hbWE6ICIiLAogICAgICBpZF91c2VyOiAiIiwKICAgICAgaWRfa2F0ZWdvcmk6ICIiLAogICAgICBhY3Rpb246ICIiLAogICAgICBtZXNzYWdlOiAiIiwKICAgICAgY3VycmVudFBhZ2U6IDEsCiAgICAgIHJvd3M6IDAsCiAgICAgIHBlclBhZ2U6IDEwLAogICAgICBrZXk6ICIiLAogICAgICBwZW5nYWR1YW46IFtdLAogICAgICBrYXRlZ29yaTogW10sCiAgICAgIHVzZXI6IFtdLAogICAgICBmaWVsZHM6IFsidGdsX3BlbmdhZHVhbiIsICJpc2lfbGFwb3JhbiIsICJzdGF0dXMiLCAibmFtYV9rYXRlZ29yaSIsICJuYW1hIl0gLy8gZmllbGRzX2RldGFpbDogWyJ0YW5nZ2FsIiwgIm5hbWFfcGVsYW5nZ2FyYW4iLCAia2F0ZWdvcmkiLCAia2V0ZXJhbmdhbiIsInBvaW4iXSwKCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgZ2V0RGF0YTogZnVuY3Rpb24gZ2V0RGF0YSgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHZhciBjb25mID0gewogICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICJBdXRob3JpemF0aW9uIjogJ0JlYXJlciAnICsgdGhpcy5rZXkKICAgICAgICB9CiAgICAgIH07CiAgICAgIHZhciBvZmZzZXQgPSAodGhpcy5jdXJyZW50UGFnZSAtIDEpICogdGhpcy5wZXJQYWdlOwogICAgICB0aGlzLiRidlRvYXN0LnNob3coImxvYWRpbmdUb2FzdCIpOwogICAgICB0aGlzLmF4aW9zLmdldCgiL3BlbmdhZHVhbi8iICsgdGhpcy5wZXJQYWdlICsgIi8iICsgb2Zmc2V0LCBjb25mKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIGlmIChyZXNwb25zZS5kYXRhLnN1Y2Nlc3MgPT0gdHJ1ZSkgewogICAgICAgICAgX3RoaXMuJGJ2VG9hc3QuaGlkZSgibG9hZGluZ1RvYXN0Iik7CgogICAgICAgICAgX3RoaXMucGVuZ2FkdWFuID0gcmVzcG9uc2UuZGF0YS5kYXRhLnBlbmdhZHVhbjsKICAgICAgICAgIF90aGlzLmthdGVnb3JpID0gcmVzcG9uc2UuZGF0YS5kYXRhLmthdGVnb3JpOwogICAgICAgICAgX3RoaXMudXNlciA9IHJlc3BvbnNlLmRhdGEuZGF0YS5wZW5nYWR1YW4udXNlcjsKICAgICAgICAgIF90aGlzLnJvd3MgPSByZXNwb25zZS5kYXRhLmRhdGEuY291bnQ7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIF90aGlzLiRidlRvYXN0LmhpZGUoImxvYWRpbmdUb2FzdCIpOwoKICAgICAgICAgIF90aGlzLm1lc3NhZ2UgPSAiR2FnYWwgbWVuYW1waWxrYW4gcmVwb3J0IGRhdGEgc2VtdWEgbGFwb3JhbiBwZW5nYWR1YW4gYXRhdSBhbmRhIGJ1a2FuIGFkbWluIjsKCiAgICAgICAgICBfdGhpcy4kYnZUb2FzdC5zaG93KCJtZXNzYWdlIik7IC8vIHRoaXMuJHJvdXRlci5wdXNoKHtuYW1lOiAibG9naW4ifSkKCiAgICAgICAgfQogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgIH0pOwogICAgfSwKICAgIHNlYXJjaGluZzogZnVuY3Rpb24gc2VhcmNoaW5nKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHZhciBjb25mID0gewogICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICJBdXRob3JpemF0aW9uIjogJ0JlYXJlciAnICsgdGhpcy5rZXkKICAgICAgICB9CiAgICAgIH07IC8vIGxldCBvZmZzZXQgPSAodGhpcy5jdXJyZW50UGFnZSAtIDEpICogdGhpcy5wZXJQYWdlOwoKICAgICAgdGhpcy4kYnZUb2FzdC5zaG93KCJsb2FkaW5nVG9hc3QiKTsKICAgICAgdmFyIGZvcm0gPSBuZXcgRm9ybURhdGEoKTsKICAgICAgZm9ybS5hcHBlbmQoInRhaHVuIiwgdGhpcy50YWh1bik7CiAgICAgIHRoaXMuYXhpb3MucG9zdCgiL3BlbmdhZHVhbi9yZXBvcnQiLCBmb3JtLCBjb25mKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIC8vIGlmKHJlc3BvbnNlLmRhdGEuc3RhdHVzID09IDEpewogICAgICAgIF90aGlzMi4kYnZUb2FzdC5oaWRlKCJsb2FkaW5nVG9hc3QiKTsKCiAgICAgICAgX3RoaXMyLnBlbmdhZHVhbiA9IHJlc3BvbnNlLmRhdGEuZGF0YS5wZW5nYWR1YW47CiAgICAgICAgX3RoaXMyLmthdGVnb3JpID0gcmVzcG9uc2UuZGF0YS5kYXRhLnBlYW5nYWR1YW4ua2F0ZWdvcmk7CiAgICAgICAgX3RoaXMyLnVzZXIgPSByZXNwb25zZS5kYXRhLmRhdGEucGVuZ2FkdWFuLnVzZXI7IC8vIHRoaXMucm93cyA9IHJlc3BvbnNlLmRhdGEuZGF0YS5jb3VudDsKICAgICAgICAvLyB9IGVsc2UgewogICAgICAgIC8vICAgd2luZG93LmxvY2F0aW9uID0gIi9wb2luc2lzd2EiOwogICAgICAgIC8vIH0KICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgICB9KTsgLy8gY29uc29sZS5sb2coJ2FiYycpCiAgICB9LAogICAgcGFnaW5hdGlvbjogZnVuY3Rpb24gcGFnaW5hdGlvbigpIHsKICAgICAgaWYgKHRoaXMuc2VhcmNoID09ICIiKSB7CiAgICAgICAgdGhpcy5nZXREYXRhKCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5zZWFyY2hpbmcoKTsKICAgICAgfQogICAgfSwKICAgIHByaW50OiBmdW5jdGlvbiBwcmludCgpIHsKICAgICAgdGhpcy4kaHRtbFRvUGFwZXIoJ3ByaW50TWUnKTsKICAgIH0KICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB0aGlzLmtleSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJBdXRob3JpemF0aW9uIik7CiAgICB0aGlzLmdldERhdGEoKTsKICB9Cn07"},{"version":3,"sources":["reportPengaduan.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div>\r\n    <section class=\"contact section-padding\">\r\n      <div class=\"container mt-3\">\r\n        <div class=\"row\">\r\n          <div class=\"col-lg-12 grid-margin stretch-card\">\r\n            <div class=\"card\">\r\n              <div class=\"card-body\">\r\n                <p class=\"card-title float-left\"><b>Report Laporan Pengaduan</b></p>\r\n                <div class=\"table-responsive\">\r\n                  <b-form-input type=\"number\" v-on:keyup.enter=\"searching\" v-model=\"tahun\" placeholder=\"Inputkan tahun\"></b-form-input>\r\n                  <div class=\"dropdown-divider\"></div>\r\n                  <div id=\"printMe\">\r\n                    <b-table striped hover :items=\"pengaduan\" :fields=\"fields\">\r\n                      <template v-slot:cell(nama_kategori)=\"data\">\r\n                        {{ data.item.kategori.nama_kategori }}\r\n                      </template>\r\n                      <template v-slot:cell(nama)=\"data\">\r\n                        {{ data.item.user.nama }}\r\n                      </template>\r\n                      <!-- <template v-slot:cell(nama)=\"data\">\r\n                        <div v-for=\"users in user\" :key=\"users.id\">\r\n                          {{ data.item.user.nama }}\r\n                        </div>\r\n                      </template> -->\r\n                    </b-table>\r\n                  </div>\r\n\r\n                  <button class=\"btn btn-warning\" @click=\"print\">Print</button>\r\n\r\n                  <b-toast id=\"loadingToast\" title=\"Processing Data\" no-auto-hide>\r\n                    <b-spinner label=\"Spinning\" variant=\"success\"></b-spinner>\r\n                    <strong class=\"text-success\">Loading...</strong>\r\n                  </b-toast>\r\n\r\n                  <!-- toast untuk tampilan message box -->\r\n                  <b-toast id=\"message\" title=\"Message\">\r\n                    <strong class=\"text-success\">{{ message }}</strong>\r\n                  </b-toast>\r\n\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </section>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nmodule.exports = {\r\n  data : function(){\r\n    return {\r\n      search:\"\",\r\n      tahun: \"\",\r\n      id_pengaduan: \"\",\r\n      tgl_pengaduan: \"\",\r\n      isi_laporan:\"\",\r\n      status:\"\",\r\n      nama_kategori:\"\",\r\n      nama:\"\",\r\n      id_user:\"\",\r\n      id_kategori:\"\",\r\n      action: \"\",\r\n      message: \"\",\r\n      currentPage: 1,\r\n      rows: 0,\r\n      perPage: 10,\r\n      key: \"\",\r\n      pengaduan: [],\r\n      kategori: [],\r\n      user:[],\r\n      fields: [\"tgl_pengaduan\",\"isi_laporan\", \"status\", \"nama_kategori\", \"nama\"],\r\n      // fields_detail: [\"tanggal\", \"nama_pelanggaran\", \"kategori\", \"keterangan\",\"poin\"],\r\n    }\r\n  },\r\n  methods: {\r\n    getData : function(){\r\n      let conf = { headers: { \"Authorization\" : 'Bearer ' + this.key } };\r\n      let offset = (this.currentPage - 1) * this.perPage;\r\n      this.$bvToast.show(\"loadingToast\");\r\n      this.axios.get(\"/pengaduan/\" + this.perPage + \"/\" + offset, conf)\r\n      .then(response => {\r\n        if(response.data.success == true){\r\n          this.$bvToast.hide(\"loadingToast\");\r\n          this.pengaduan = response.data.data.pengaduan;\r\n          this.kategori = response.data.data.kategori;\r\n          this.user = response.data.data.pengaduan.user;\r\n          this.rows = response.data.data.count;\r\n        } else {\r\n          this.$bvToast.hide(\"loadingToast\");\r\n          this.message = \"Gagal menampilkan report data semua laporan pengaduan atau anda bukan admin\"\r\n          this.$bvToast.show(\"message\");\r\n          // this.$router.push({name: \"login\"})\r\n        }\r\n        \r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n      });\r\n    },\r\n    \r\n    searching : function(){\r\n    let conf = { headers: { \"Authorization\" : 'Bearer ' + this.key } };\r\n          // let offset = (this.currentPage - 1) * this.perPage;\r\n          this.$bvToast.show(\"loadingToast\");\r\n          let form = new FormData();\r\n          form.append(\"tahun\", this.tahun);\r\n          this.axios.post(\"/pengaduan/report\", form, conf)\r\n          .then(response => {\r\n            // if(response.data.status == 1){\r\n              this.$bvToast.hide(\"loadingToast\");\r\n              this.pengaduan = response.data.data.pengaduan;\r\n              this.kategori = response.data.data.peangaduan.kategori;\r\n              this.user = response.data.data.pengaduan.user;\r\n              // this.rows = response.data.data.count;\r\n            // } else {\r\n            //   window.location = \"/poinsiswa\";\r\n            // }\r\n          })\r\n          .catch(error => {\r\n              console.log(error);\r\n          });\r\n          // console.log('abc')\r\n    },\r\n    pagination : function(){\r\n      if(this.search == \"\"){\r\n        this.getData();\r\n      } else {\r\n        this.searching();\r\n      }\r\n    },\r\n    print() {\r\n      this.$htmlToPaper('printMe');\r\n    }\r\n  },\r\n  mounted(){\r\n    this.key = localStorage.getItem(\"Authorization\");\r\n    this.getData();\r\n  }\r\n}\r\n</script>"],"sourceRoot":"src/views"}]}