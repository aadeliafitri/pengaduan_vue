{"remainingRequest":"C:\\xampp\\htdocs\\ukk_front\\node_modules\\babel-loader\\lib\\index.js!C:\\xampp\\htdocs\\ukk_front\\src\\store\\index.js","dependencies":[{"path":"C:\\xampp\\htdocs\\ukk_front\\src\\store\\index.js","mtime":1616420785990},{"path":"C:\\xampp\\htdocs\\ukk_front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\xampp\\htdocs\\ukk_front\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCBWdWUgZnJvbSAndnVlJzsKaW1wb3J0IFZ1ZXggZnJvbSAndnVleCc7CmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7ClZ1ZS51c2UoVnVleCk7CmV4cG9ydCBkZWZhdWx0IG5ldyBWdWV4LlN0b3JlKHsKICBzdGF0ZTogewogICAgc3RhdHVzOiAnJywKICAgIHRva2VuOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnQXV0aG9yaXphdGlvbicpIHx8ICcnLAogICAgdXNlcjoge30KICB9LAogIG11dGF0aW9uczogewogICAgYXV0aF9yZXF1ZXN0OiBmdW5jdGlvbiBhdXRoX3JlcXVlc3Qoc3RhdGUpIHsKICAgICAgc3RhdGUuc3RhdHVzID0gJ2xvYWRpbmcnOwogICAgfSwKICAgIGF1dGhfc3VjY2VzczogZnVuY3Rpb24gYXV0aF9zdWNjZXNzKHN0YXRlLCB0b2tlbikgewogICAgICBzdGF0ZS5zdGF0dXMgPSAnc3VjY2Vzcyc7CiAgICAgIHN0YXRlLnRva2VuID0gdG9rZW47IC8vIHN0YXRlLmxvZ2dlZCA9IGxvZ2dlZAogICAgfSwKICAgIHVzZXJEZXRhaWw6IGZ1bmN0aW9uIHVzZXJEZXRhaWwoc3RhdGUsIHVzZXIpIHsKICAgICAgc3RhdGUudXNlciA9IHVzZXI7CiAgICB9LAogICAgYXV0aF9lcnJvcjogZnVuY3Rpb24gYXV0aF9lcnJvcihzdGF0ZSkgewogICAgICBzdGF0ZS5zdGF0dXMgPSAnZXJyb3InOwogICAgfSwKICAgIGxvZ291dDogZnVuY3Rpb24gbG9nb3V0KHN0YXRlKSB7CiAgICAgIHN0YXRlLnN0YXR1cyA9ICcnOwogICAgICBzdGF0ZS50b2tlbiA9ICcnOwogICAgICBzdGF0ZS51c2VyID0gW107CiAgICB9CiAgfSwKICBhY3Rpb25zOiB7CiAgICBsb2dpbjogZnVuY3Rpb24gbG9naW4oX3JlZiwgdXNlcikgewogICAgICB2YXIgY29tbWl0ID0gX3JlZi5jb21taXQ7CiAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICAgICAgY29tbWl0KCdhdXRoX3JlcXVlc3QnKTsKICAgICAgICBheGlvcyh7CiAgICAgICAgICB1cmw6ICcvbG9naW4nLAogICAgICAgICAgZGF0YTogdXNlciwKICAgICAgICAgIG1ldGhvZDogJ1BPU1QnCiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgIHZhciB0b2tlbiA9IHJlc3BvbnNlLmRhdGEuZGF0YS50b2tlbjsKICAgICAgICAgIHZhciBsb2dnZWQgPSByZXNwb25zZS5kYXRhLmxvZ2dlZDsKICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdBdXRob3JpemF0aW9uJywgdG9rZW4pOyAvLyBBZGQgdGhlIGZvbGxvd2luZyBsaW5lOgoKICAgICAgICAgIGF4aW9zLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uWydBdXRob3JpemF0aW9uJ10gPSB0b2tlbjsKICAgICAgICAgIGNvbW1pdCgnYXV0aF9zdWNjZXNzJywgdG9rZW4pOyAvL2dldCBkZXRhaWwgdXNlcgoKICAgICAgICAgIHZhciBjb25mID0gewogICAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgICAgIkF1dGhvcml6YXRpb24iOiAiQmVhcmVyICIgKyB0b2tlbgogICAgICAgICAgICB9CiAgICAgICAgICB9OwogICAgICAgICAgYXhpb3MuZ2V0KCIvbG9naW4vY2hlY2siLCBjb25mKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAvL3NpbXBhbiBkZXRhaWwgbG9naW4ga2Ugc3RhdGUKICAgICAgICAgICAgY29tbWl0KCd1c2VyRGV0YWlsJywgcmVzcG9uc2UuZGF0YS51c2VyKTsKICAgICAgICAgIH0pOwogICAgICAgICAgcmVzb2x2ZShyZXNwb25zZSk7CiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgICAgY29tbWl0KCdhdXRoX2Vycm9yJyk7CiAgICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgnQXV0aG9yaXphdGlvbicpOwogICAgICAgICAgcmVqZWN0KGVycik7CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfSwKICAgIHJlZ2lzdGVyOiBmdW5jdGlvbiByZWdpc3RlcihfcmVmMiwgdXNlcikgewogICAgICB2YXIgY29tbWl0ID0gX3JlZjIuY29tbWl0OwogICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewogICAgICAgIGNvbW1pdCgnYXV0aF9yZXF1ZXN0Jyk7CiAgICAgICAgYXhpb3MoewogICAgICAgICAgdXJsOiAnL3JlZ2lzdGVyJywKICAgICAgICAgIGRhdGE6IHVzZXIsCiAgICAgICAgICBtZXRob2Q6ICdQT1NUJwogICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICB2YXIgdG9rZW4gPSByZXNwb25zZS5kYXRhLnRva2VuOwogICAgICAgICAgdmFyIGxvZ2dlZCA9IHJlc3BvbnNlLmRhdGEubG9nZ2VkOwogICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ0F1dGhvcml6YXRpb24nLCB0b2tlbik7IC8vIEFkZCB0aGUgZm9sbG93aW5nIGxpbmU6CgogICAgICAgICAgYXhpb3MuZGVmYXVsdHMuaGVhZGVycy5jb21tb25bJ0F1dGhvcml6YXRpb24nXSA9IHRva2VuOwogICAgICAgICAgY29tbWl0KCdhdXRoX3N1Y2Nlc3MnLCB0b2tlbiwgbG9nZ2VkKTsKICAgICAgICAgIHJlc29sdmUocmVzcG9uc2UpOwogICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICAgIGNvbW1pdCgnYXV0aF9lcnJvcicsIGVycik7CiAgICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgnQXV0aG9yaXphdGlvbicpOwogICAgICAgICAgcmVqZWN0KGVycik7CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfSwKICAgIGxvZ291dDogZnVuY3Rpb24gbG9nb3V0KF9yZWYzKSB7CiAgICAgIHZhciBjb21taXQgPSBfcmVmMy5jb21taXQ7CiAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkgewogICAgICAgIGNvbW1pdCgnbG9nb3V0Jyk7CiAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ0F1dGhvcml6YXRpb24nKTsKICAgICAgICBkZWxldGUgYXhpb3MuZGVmYXVsdHMuaGVhZGVycy5jb21tb25bJ0F1dGhvcml6YXRpb24nXTsKICAgICAgICByZXNvbHZlKCk7CiAgICAgIH0pOwogICAgfQogIH0sCiAgZ2V0dGVyczogewogICAgaXNMb2dnZWRJbjogZnVuY3Rpb24gaXNMb2dnZWRJbihzdGF0ZSkgewogICAgICByZXR1cm4gISFzdGF0ZS50b2tlbjsKICAgIH0sCiAgICBhdXRoU3RhdHVzOiBmdW5jdGlvbiBhdXRoU3RhdHVzKHN0YXRlKSB7CiAgICAgIHJldHVybiBzdGF0ZS5zdGF0dXM7CiAgICB9LAogICAgdXNlckRldGFpbDogZnVuY3Rpb24gdXNlckRldGFpbChzdGF0ZSkgewogICAgICByZXR1cm4gc3RhdGUudXNlcjsKICAgIH0KICB9Cn0pOw=="},{"version":3,"sources":["C:/xampp/htdocs/ukk_front/src/store/index.js"],"names":["Vue","Vuex","axios","use","Store","state","status","token","localStorage","getItem","user","mutations","auth_request","auth_success","userDetail","auth_error","logout","actions","login","commit","Promise","resolve","reject","url","data","method","then","response","logged","setItem","defaults","headers","common","conf","get","catch","err","removeItem","register","getters","isLoggedIn","authStatus"],"mappings":"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","sourcesContent":["import Vue from 'vue'\nimport Vuex from 'vuex'\nimport axios from 'axios'\n\nVue.use(Vuex)\n\nexport default new Vuex.Store({\n\tstate: {\n  \t\tstatus: '',\n  \t\ttoken: localStorage.getItem('Authorization') || '',\n  \t\tuser : {}\n\t},\n\tmutations: {\n\t\tauth_request(state){\n\t    \tstate.status = 'loading'\n\t  \t},\n\t  \tauth_success(state, token){\n\t\t    state.status = 'success'\n\t\t    state.token = token\n\t\t    // state.logged = logged\n\t\t},\n\t    userDetail(state, user){\n\t\t\t  state.user = user\n\t\t},\n\t  \tauth_error(state){\n\t    \tstate.status = 'error'\n\t  \t},\n\t  \tlogout(state){\n\t    \tstate.status = ''\n\t    \tstate.token = ''\n\t\t\tstate.user= []\n\t  \t},\n\t},\n\tactions: {\n\t  \tlogin({commit}, user){\n\t        return new Promise((resolve, reject) => {\n\t            commit('auth_request')\n\t            axios({url: '/login', data: user, method: 'POST' })\n\t            .then(response => {\n\t                const token = response.data.data.token\n\t                const logged = response.data.logged\n\t                localStorage.setItem('Authorization', token)\n\t                // Add the following line:\n\t                axios.defaults.headers.common['Authorization'] = token\n\t\t\t\t\tcommit('auth_success', token)\n\t\t\t\t\t//get detail user\n\t\t\t\t\tlet conf = {headers: {\"Authorization\" : \"Bearer \" + token}};\n\t\t\t\t\taxios.get(\"/login/check\", conf)\n\t\t\t\t\t.then(response => {\n\t\t\t\t\t\t//simpan detail login ke state\n\t\t\t\t\t\tcommit('userDetail', response.data.user)\n\t\t\t\t\t})\n\t                resolve(response)\n\t            })\n\t            .catch(err => {\n\t                commit('auth_error')\n\t                localStorage.removeItem('Authorization')\n\t                reject(err)\n\t            })\n\t        })\n\t    },\n\t    register({commit}, user){\n\t    \treturn new Promise((resolve, reject) => {\n\t            commit('auth_request')\n\t            axios({url: '/register', data: user, method: 'POST' })\n\t            .then(response => {\n\t                const token = response.data.token\n\t                const logged = response.data.logged\n\t                localStorage.setItem('Authorization', token)\n\t                // Add the following line:\n\t                axios.defaults.headers.common['Authorization'] = token\n\t                commit('auth_success', token, logged)\n\t                resolve(response)\n\t            })\n\t            .catch(err => {\n\t                commit('auth_error', err)\n\t                localStorage.removeItem('Authorization')\n\t                reject(err)\n\t            })\n\t        })\n\t    },\n\t  \tlogout({ commit }){\n\t\t    return new Promise((resolve) => {\n\t\t      \tcommit('logout')\n\t\t      \tlocalStorage.removeItem('Authorization')\n\t\t      \tdelete axios.defaults.headers.common['Authorization']\n\t\t      \tresolve()\n\t\t    })\n\t  \t}\n\t},\n\tgetters : {\n\t  isLoggedIn: state => !!state.token,\n\t  authStatus: state => state.status,\n\t  userDetail: state => state.user\n\t}\n})\n"]}]}